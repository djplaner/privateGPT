<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>BAM into Moodle #5 - Coding a block?</title>
</head>
<body>
<h1><a href="https://djon.es/blog/2009/07/23/bam-into-moodle-5-coding-a-block/">BAM into Moodle #5 - Coding a block?</a></h1>

<p>Tags: bam, Uncategorized</p>

<p><p>Up to Unit 7 of the <a href="http://dev.moodle.org/course/view.php?id=2">introduction to Moodle programming course</a>, this one is titled "Replicating a moodle block".  So the programming begins.</p>

<h3>Creating a simple block</h3>

<p>Looks like we'll be doing most of the standard stuff, adding tables, using forms CRUD...Staring with <a href="http://dev.moodle.org/course/view.php?id=2">this tutorial</a> from the Moodle site. THe process</p>
<ul>
  <li> Create a single file in a single directory<br />~/blocks/<em>lowercase name of block</em> is the directory and block_<em>lowercase name of block</em>.php is the file. </li>
  <li> File format:
     <ul>
         <li> first line is block class definition - fixed naming convention </li>
         <li> class must have an init() method - initially to set to class member variables title and version</li>
         <li> get_content - required before it will display something on screen </li>
     </ul>
    </li>
</ul>
<p>Bugger, laptop migration didn't work 100% with permissions - XAMPP is playing silly buggers, and now so is Moodle. Ahh, CVS wasn't brought across in the migration either. Bugger, Apple developer CDs - long time to download to get CVS.....</p>
<p>Okay, back to it.  </p>
<p>Misc other stuff</p>
<ul>
  <li> instance_allow_config method returns true to allow instance configuration</li>
  <li> config_instance.html - used to specify HTML/PHP/Moodle functions to implement form to allow configuration </li>
  <li> can't use config variables in init section of blocks</li>
  <li> specialization method is automatically called after init - used to apply config i.e. to specialize the block </li>
  <li> instance_allow_multiple method allows multiple instances of the block for a single course - if it returns true </li>
  <li> has_config - indicates global configuration exists if it returns true - i.e. allows application of config to all instances in all courses. </li>
  <li> config_global.html - specify HTML form for global configuration </li>
</ul>

<h3>Skip to Unit 9 - requirements documents</h3>

<p>While that's downloading, time to move on.  Will need to think about a requirements document some time soon to keep the organisational hierarchy happy and it will probably not require any code.  Onto unit 9 - <a href="http://dev.moodle.org/mod/resource/view.php?id=69">requirements documents</a>.</p>
<p>Ahh, believes a requirements document will reduce feature creep - philosophically I disagree with this.  It allows the developer to ignore the user's growing knowledge of what they'd like to do with the application.  It closes off possibilities - or at least that is how it is used.</p>
<p>It's all fairly standard requirements document guff, little specific to Moodle.  Most of it is just really limited in being of any use in a real situation.</p>
<p>This <a href="http://docs.moodle.org/en/Development:Overview#Major_Development">section of the Moodle developer docs</a> seems to be a bit more useful and talks about creating a specification in Moodle docs.  This <a href="http://docs.moodle.org/en/Development:Grades">one</a> is used as the example.</p>. Some other alternatives include: <a href="http://docs.moodle.org/en/Development:Workshop_2.0_specification">specification of Workshop 2.0</a>, <a href="http://docs.moodle.org/en/Student_projects/Blog_improvements">blog improvements</a>.</p>
<p>This will have to come later.</p>

<h3>What's next?</h3>

<p>Looks like the reinstall of Moodle is going to take a while.  Running out of time today.  Not all that productive - but that's what you get for changing laptops.</p>
<p>At this stage, it looks like it will be time to move onto the planning and documentation.  Which also implies doing a presentation at CQU to generate more requirements. The interesting part of this will be working out which of the types of plugins (or how many of them) BAM will required.  </p>
<p>For example, for students, registering their blog and checking marking progress could be thought of as activities.  Configuring BAM for a course could, as it stands, be for an assignment.  However, I'm not sure I want to limit use of BAM only for assessment.  Why not use it as a basis for a course blog - aggregate - oops, is this feature creep?</p></p>

</body>
</html>
